<!--Tag Name Resource Name  Date		CSR No			Description -->
<!--[001]	 Rohit Verma	03-Feb-11	CSR00-05422     Code Changed for Javascript Errors-->
<!--[002]	 ROHIT VERMA	4-Feb-11	00-05422		Sending ShortCode on New Order -->
<!--[004]	 ROHIT VERMA	18-Feb-11	00-05422		Region and zONE will befetched from Account -->
<!--[009]	 MANISHA GARG	23-Feb-11	00-05422		To Check PONUMBER and PODATE already exists inDatabase for ChangeOrder  -->
<!--[012]	 Lawkush		4-March-11	00-05422		In order to make nom mandatory field white and mandatory yellow -->
<!--[014]	 SAURABH SINGH	4-Feb-11	00-05422		To get stage information -->
<!--[005]    ANIL KUMAR     18-Feb-11   00-05422        To display FileAttachment popup window -->
<!--[006]    SUMIT ARORA    16-Mar-11   00-05422        Cancel Order -->
<!--[013]	 ROHIT VERMA	10-March-11	00-05422		Add Child Node-->
<!--[015]	 Vishwa			17-Feb-11	00-05422		Populate Pincode based City and State -->
<!--[016]	 Lawkush		11-April-11	00-05422		In order to validate fields according to database driven mandatory or nonmandatory -->
<!--[017]	 Rohit Verma	14-Apr-11	00-05422		For Not Displaying PO Details Tab in case of Disconnection -->
<!--[018]	Lawkush			06-05-11	00-05422		Setting paging sorting  -->
<!--[019]	Lawkush			31-05-11	00-05422		for Po tab validation -->
<!--[020]  	Saurabh			03-06-11	00-05422		UAT point of making Contract Start and End Date Mandatory in case of Rate Revision-->
<!--[021]  	Lawkush			10-06-11	00-05422		SIT Bug Fixed. Changes in display of icon as per sub change type-->
<!-- [00044]	 Ashutosh Singh		23-June-11	CSR00-05422     Creating Change Order From Existing order in Billing Queue -->
<!--[022]	Ramana		    05-July-11	00-05422        Code for fixing the reattachment of the workflow when workflow already attached -->
<!--[00055]	 Ashutosh Singh		08-July-11	CSR00-05422     Document tracking for Diffrent Role -->
<!--[045]  	Saurabh Singh	22-Aug-11	00-05422		Copy Order Functionality to be developed for Change Order-->


<!--[0046]	 Anil Kumar		3-Oct-11	CSR00-05422     Use Ctrl + S for Save  -->
<!--[047]  	Manisha Garg	22-Aug-11	00-05422		Delete Service in change Order-->
<!-- ==========================================Sumit Arora====================================================================================== -->
<!-- [SUMIT007]  	Sumit Arora	04-Oct-11	00-05422		Color Coding For Tree-->
<!-- ================================================================================================================================ -->
<!--[048]	 LAWKUSH 		17-OCT-11	00-05422		For making Project Manager   dropdown into textbox -->
<!--[049]  	Lawkush			28-10-11	00-05422		Treeview in change order disabled for hardware sale for all change order except disconnection -->
<!--[050]	 Vishwa			04-Nov-11	00-05422		Copy Order id  Style is set to none to display from viewing and PO Amount Validation for 0 Value has been removed -->
<!--[077]    ASHUTOSH SINGH  01-DEC-11  00-05422        Changes in PO AMOUNT(Decimal validation) -->
<!--[031]	 SAURABH SINGH	28-Dec-2011	CSR00-05422		Showing AM ,Approval tab once order is validated by him ,if he is supposed to be-->
<!--[032]	 SAURABH SINGH	2-Jan-2012	CSR00-05422		Displaying and Saving OpportunityId in Order Header Section, Getting data from CRM-->
<!--[033]    SAURABH SINGH  21-Dec-11   00-05422        Validating MPLS LineItem -->
<!--[034]    MANISHA GARG   15-Feb-12   00-05422       View approval tab after saving of contact tab in permanent disconnection -->
<!--[035]	 SAURABH SINGH	16-Feb-12	CSR00-05422		Restrict User From Saving Attributes For Cancel Service-->
<!--[036]    SAURABH SINGH  20-Feb-12   CSR00-05422		Closing Order Already Opened during approving order and Closing page-->
<!--[037]    ASHUTOSH SINGH  04-Jun-12  CSR00-05422		//To disable backspace key doing Back on browser -->
<!--[038]    ASHUTOSH        05-June-12	CSR00-05422		Focus on field validation -->
<!--[039]   ASHUTOSH       11-Jun-12	CSR00-05422		Copy Service Product in New and Change Order Using Common Function  -->
<!--[040]   ASHUTOSH       19-Jun-12	CSR00-05422		New subnode Billing and hardware details shuold be different from Old subnode and parnet node  -->
<!--[041]   Raghu       19-Jun-12	CSR00-05422		    Changes for line item display as in red colour if charge already exist in that line item -->
<!--[080]  	Rohit Verma		05-Nov-12	00-07843		7 Core Products-->
<!--[078]  	Vishwa			17-Jul-12	00-05422		Added Extra Attribute labels on Main Tab for Change Order-->
<!--[081]   ROHIT VERMA		05-Nov-12	CSR00-07843		Moving Validate Order button on left of screen-->
<!--[082]   ROHIT VERMA		05-Nov-12	CSR00-07843		Moving Short code to Customer Section and removing Phone No-->
<!--[083]    Vijay             08-Feb-13                    cancel buttone should not be display first time  -->
<!--[084]    Vijay          12-Feb-13                   selected page's tab contain  a diffrent color than non-selected pages Tabs. In this way selected Tab contain uniqeness.-->
<!--[085]	ROHIT VERMA	05-Nov-12	CSR00-07480		Adding Linking Icon for to view LSI Linking for Arbor Products-->
<!--[086]	Anil Kumar	07-Mar-13	ARBOR-MIGRATION-CHANGE		Service Level Component does not allow on NO FX SI Lineitem-->
<!--[15032013017] Rampratap 14-03-13 added for count tolal line items selected.-->
<!--[15032013012]   Vijay      14-March-13              'Order Validated Sucessfully' Alert's image replaced by Tick mark. And this alert would be fade out automatically  -->
<!--[15032013013] Vijay     12-Feb-13                   For disable the billing trigger button when copc login, because for billing trigger a separated role woule be created.-->

<!--[087]	 Neelesh		24-May-13	CSR00-08463     For Addition of Category  -->
<!--[088]	 Neelesh		06-Jun-13	TRNG22032013037     For Mulitple Opportunity  -->
<!--[089]	 Sumit Arora	29-Aug-13	20130807-00-09286 iB2B - opportunity selection Mandatory for GB Order  -->
<!--[090]    Gunjan Singla  12-Dec-2013                 added action mapping for changeordercanellationreason.jsp and added ajax call to cancelorderreason, hidden variable cancelReason-->
<!-- [091]   Gunjan Singla        5-Mar-2014           added a hidden variable CancelReasonDD -->
<!--[092]   Neha Maheshwari    added service segment    NORTH STAR ACCOUNT TAGGING-->
<!--[093]   Raveendra Kumar    Partial Validation-->
<%-- [094  VIPIN SAHARIA 11-May-2015 20150403-R2-021204 Project Satyapan Adding ISP tagging fields to header section --%>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<%@page language="java" contentType="text/html; charset=ISO-8859-1" pageEncoding="ISO-8859-1"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib uri="http://struts.apache.org/tags-html" prefix="html"%>
<%@taglib uri="http://struts.apache.org/tags-bean" prefix="bean"%>
<%@taglib uri="http://struts.apache.org/tags-logic" prefix="logic"%>
<%@page import="java.text.SimpleDateFormat"%>
<%@page import="java.util.Date"%>
<%@page import="com.ibm.ioes.utilities.AppUtility"%>
<%@page import="com.ibm.ioes.utilities.Messages"%>
<%@page import="com.ibm.ioes.beans.NewOrderBean"%>
<%@page import="java.util.HashMap"%>
<%@page import="com.ibm.ioes.beans.UserInfoDto"%>
<%@page import="com.ibm.ioes.utilities.AppConstants"%>
<html>
<head>
<title>ChangeOrder</title>
<link href="gifs/style.css" type="text/css" rel="stylesheet">
<link href="gifs/treeview.css" type="text/css" rel="stylesheet">
<link href="./gifs/freezeStyle_chargeInfo1.css" type="text/css" rel="stylesheet">
<script type="text/javascript" src="${pageContext.request.contextPath}/js/NewChangeOrderUtility.js"></script>
<script type="text/javascript" src="${pageContext.request.contextPath}/js/utility.js"></script>
<script type="text/javascript" src="${pageContext.request.contextPath}/js/jsonrpc.js"></script>
<script language="javascript" src="<%=request.getContextPath()%>/js/calendar.js"></script>
<script type="text/javascript" src="${pageContext.request.contextPath}/js/PagingSorting.js"></script>
<script type="text/javascript" src="${pageContext.request.contextPath}/js/enableDisableOrderEntryUtility.js"></script>
<link href="gifs/jquery-ui.css" type="text/css" rel="stylesheet">
<script type="text/javascript" src="js/Calender/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery-latest.js"></script>
<script type="text/javascript" src="js/Calender/jquery-ui.min.js"></script>  
<script type="text/javascript" src="js/productCatelogUtility.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="GENERATOR" content="Rational Software Architect">
	
	<script type="text/javascript">
	window.history.forward(1);
	function noBack() 
	{ 
		window.history.forward(1); 
	}
</script>
</head>
<script type="text/javascript" src="js/formValidations.js"></script>
<script type="text/javascript" src="js/Tokenizer.js"></script>
<script type="text/javascript" src="js/jsonrpc.js"></script>
<script type="text/javascript" src="js/ChangeOrder.js"></script>
<style type="text/css">
    .opaqueLayer
    {
        display:none;
        position:absolute;
        top:0px;
        left:0px;
        opacity:0.5;
        filter:alpha(opacity=50);
        background-color: #000000;
        z-Index:1000;
        text-align:center;
        vertical-align:middle;
        padding:100px;
    }
 
        table.main
        {
            width: 100%;
            height: 221px;
            table-layout: fixed;
        }
        table.root
        {
            table-layout: fixed;
        }
        table.content1
        {
            table-layout: fixed;
            width: 100%;
        }
        table.head1
        {
            table-layout: fixed;
            width: 100%;
        }
        table.frozen
        {
            table-layout: fixed;
        }
        
        div.horizontal-scroll
        {
            width: 100%;
            height: 22px;
            overflow: hidden;
            overflow-x: scroll;
            border: solid 1px #666;
        }
        div.horizontal-scroll div
        {
            width: 3000px;
            height: 1px;
        }
         div.horizontal-scrollService
        {
            width: 100%;
            height: 22px;
            overflow: hidden;
            overflow-x: scroll;
            border: solid 1px #666;
        }
        div.horizontal-scrollService div
        {
            width: 1500px;
            height: 1px;
        }
        div.vertical-scroll
        {
            height: 227px;
            width: 100%;
            overflow: hidden;
            overflow-y: scroll;
            border: solid 1px #666;
        }
        div.vertical-scroll div
        {
            height:2000px;
            width: 1px;
        }
        
      	div.vertical-scrollService
        {
            height: 290px;
            width: 100%;
            overflow: hidden;
            overflow-y: scroll;
            border: solid 1px #666;
        }
        
        div.vertical-scrollService div
        {
            height:2100px;
            width: 1px;
        }
        
        td.inner
        {
            border-left: 1px solid #666;
            border-bottom: 1px solid #666;
            padding: 0px;
            height: 30px;
        }
        td.frozencol
        {
            border-right: 1px double #666;
            width: 1px;
        }
        td.col1
        {           
            width: 50px;
        }
        .col4
        {            
            width:175px;
        }
        .col3
        {            
            width:130px;
        }
        .col5
        {            
            width:250px;
        }
        td.bottomcol
        {
            /*border-bottom: 1px solid #666;*/
        }
        .col2, .col6, .col7, .col8, .col9, .col10
        {
            width: 100px;
            overflow: hidden;
            text-overflow: ellipses;
            white-space: nowrap;
        }
        
        .colSrNo
          {
            width: 40px;
            overflow: hidden;
            text-overflow: ellipses;
            white-space: nowrap;
            text-align:center
           }
           .colRadio
          {
            width: 52px;
            overflow: hidden;
            text-overflow: ellipses;
            white-space: nowrap;
            text-align:center
           }
           .colCheckBox
          {
            width: 48px;
            overflow: hidden;
            text-overflow: ellipses;
            white-space: nowrap;
            text-align:center
           }
           .colDummy
          {
            width: 59px;
            overflow: hidden;
            text-overflow: ellipses;
            white-space: nowrap;
            text-align:center
           }
         .colPublished
          {
            width: 59px;
            overflow: hidden;
            text-overflow: ellipses;
            white-space: nowrap;
            text-align:center
           }
          .colServiceNo
          {
            width: 90px;
            overflow: hidden;
            text-overflow: ellipses;
            white-space: nowrap;
            text-align:center
           }
           
           .colServiceType
          {
            width: 150px;
            overflow: hidden;
            text-overflow: ellipses;
            white-space: nowrap;
            text-align:center
           }
            .colLogicalSI
          {
            width: 90px;
            overflow: hidden;
            text-overflow: ellipses;
            white-space: nowrap;
            text-align:center
           }
          .colAttribute
          {
            width: 70px;
            overflow: hidden;
            text-overflow: ellipses;
            white-space: nowrap;
           }
           
           .colServiceStatus
          {
            width: 120px;
            overflow: hidden;
            text-overflow: ellipses;
            white-space: nowrap;
            text-align:center
           }
           
            .colInitiatedTo
          {
            width: 120px;
            overflow: hidden;
            text-overflow: ellipses;
            white-space: nowrap;
            text-align:center
           }
        	.colIsDemo
          {
            width: 60px;
            overflow: hidden;
            text-overflow: ellipses;
            white-space: nowrap;
           }
        
        
       .calcancelDate
          {
            width: 120px;
            overflow: hidden;
            text-overflow: ellipses;
            white-space: nowrap;
            text-align:center
           }
        
        
          .colCancellationreson
          {
            width: 120px;
            overflow: hidden;
            text-overflow: ellipses;
            white-space: nowrap;
            text-align:center
           }
        
        
            .colCancelledBy
          {
            width: 120px;
            overflow: hidden;
            text-overflow: ellipses;
            white-space: nowrap;
            text-align:center
           }
           
             .colCancelremarks
          {
            width: 120px;
            overflow: hidden;
            text-overflow: ellipses;
            white-space: nowrap;
            text-align:center
           }
        
        
        
        
        td.head1
        {
            /*border-bottom: 1px solid #666;*/
            background-color: #CCCC99;
            border-top: 1px solid #666;
        }
        .rightcol
        {
            border-right: 1px solid #666;
        }
        .toprow
        {
            border-top: 1px;
        }
        div.root
        {
            margin-left: 0px;
            overflow: hidden;
            width: 100%;
            height: 26px;
            border-bottom: 1px solid #666;
        }
        div.frozen
        {
            overflow: hidden;
            width: 100%; /*border-bottom: 1px solid #666;*/
            height: 200px;
        }
        div.divhead
        {
            overflow: hidden;            
            width: 100%;
            border-left: 1px solid #666;
            border-right: 1px solid #666; /*border-bottom: 0px solid #666;*/
            border-bottom: 1px solid #666;
        }
        div.content1
        {
            overflow: hidden;
            width: 100%;
            height: 200px;
            border-left: 1px solid #666;
            border-right: 1px solid #666; /*border-bottom: 1px solid #666;*/
        }
        td.tablefrozencolumn
        {
            width: 1px;
            border-right: 3px solid #666;
        }
        td.tablecontent
        {
            width: 100%;
        }
        td.tableverticalscroll
        {
            width: 24px;
        }
        div.ff-fill
        {
            height: 23px;
            width: 23px;
            background-color: #ccc;
            border-right: 1px solid #666;
            border-bottom: 1px solid #666;
        }

</style>
<script language="javascript" type="text/javascript">
	var javascriptExceptionMessage = "<%=Messages.getMessageValue("javascriptExceptionMessage")%>";
	var javascriptExceptionShow = '<%=Messages.getMessageValue("javascriptExceptionShow")%>';
	var modeValue="<%= request.getParameter("modeName") %>";
	var showAttachIcon = "<%= request.getAttribute("showAttachIcon")%>";
	var flag3="<%= request.getParameter("flag")%>";
	var modeValue="<%= request.getParameter("modeName")%>";
	var checkedServiceNumber="<%= request.getParameter("checkedServiceNumber")%>";
	var fileTypeIdN=0;
	var sentMethod=0;
	var selectedServiceName;
	var flag=0;
	var counter = 1;
	var countService=1;
	var currentDate = '<%=AppUtility.getTodayDate()%>';
	var OrderNoTM6=0,OrderNoBilling=0;
	var isServiceReadOnly =0;
	var parrentArray = new Array();
	var childArray = new Array();
	var checkedServiceNumber=-1;
	var roleFeild;
	var contactTabFieldList;
	var poDetailTabFieldList;
	var linesTabFieldList;
	var mainTabFieldList;
	var btnselectservice="0";
	var btnAttributes="0";
	var btnAttLabelValues="0";
	var serviceSummaryList;
	var isGamNFormulaAttachedFlag=0;
	//[039] Start Adding variable for Copy Service product
	var serviceDetailId1;
	var path="<%=request.getContextPath()%>";
	var contPath="<%=request.getContextPath()%>";
	var serviceTableCreated = false;
	var sessionId='<%=request.getSession().getId() %>';
	<%
		HashMap userHashMap = (HashMap)request.getSession().getServletContext().getAttribute(AppConstants.APP_SESSION); 
		HttpSession sessionObj = (HttpSession) userHashMap.get(session.getId());
		UserInfoDto objUserDto  = (UserInfoDto)sessionObj.getAttribute(AppConstants.APP_SESSION_USER_INFO);
	%>
	var PAGE_SIZE_SERVICE_LINE="<%=objUserDto.getPageSizeServiceLine()%>";
	var ownerId = '<%=objUserDto.getUserRoleId()%>';
	var userId = "<%=objUserDto.getUserId() %>";
	var UserRoleName = <%=objUserDto.getUserRoleId() %>;
	var roleName = <%=objUserDto.getUserRoleId() %>;
	var gb_roleID = <%=objUserDto.getUserRoleId() %>;
	var employeeId = "<%=objUserDto.getEmployeeId() %>";
	var sessionid ='<%=request.getSession().getId() %>';
	//==========[ start clep ]=======================
	var clepState=0;
	var ORDER_CREATION_SOURCE = 2;//CLEP
	//==========[ end clep ]=========================
	var jsonrpc = new JSONRpcClient("<%=request.getContextPath()%>" + "/JSON-RPC");
	var gb_path="<%=request.getContextPath()%>";
	var AM_ROLE = <%=AppConstants.AM_ROLE%>;
	var PM_ROLE = <%=AppConstants.PM_ROLE%>;
	var COPC_ROLE = <%=AppConstants.COPC_ROLE%>;
	var SED_ROLE = <%=AppConstants.SED_ROLE%>;
//lawkush End
//add by anil for message display for after publish
function onloadMessage()
{	
	try{
	<logic:present name="m6StatusCode">
		<logic:equal name="m6StatusCode" value="1">
			alert("Order Published Successfully");	
			//goToHome();
			openInViewOrder();//done to open the order after publishing as told by Rohit 20-feb-12			
		</logic:equal>
		<logic:equal name="m6StatusCode" value="-1">
			alert("Due to some problem, Order has not be published!!");		
		</logic:equal>
	</logic:present>
	checkPublishStatus();
	hideSelectCurrency();
	hideChannelPartner();
	
	//this will be last call in this method,please do not add after this line,only add new code before this line
	//=================[ start clep ]==================
		enableDisableCLEP();
	//=================[ end clep ]==================
	}catch(e)
	{
		alert('error code 688: '+ e.message);
	}
}

//pankaj start

function selectChannelPartner() {
if(document.getElementById('accountID').value==""){
		
		alert('Please Select the A/C No. first');
		return false;
	}
	
	try{
		if(chkIschannelPatnerTaggingAllowed(2) != false)
		return popitup('SelectChannelPartner');
	}catch(e)
	{
		alert('error code in NewOrder.jsp function selectChannelPartner: '+ e.message);
    }
}

//pankaj end

</script>
<script type="text/javascript" src="npd/js/opaqueLayer.js"></script>
<script language="javascript">window.onresize = setLayerPosition;</script>
<body onload="noBack();checkpage();onloadMessage();getServicelineCount();legalEntityLoading();" onpageshow="if (event.persisted) noBack();" onunload="">
<div id="shadow" class="opaqueLayer"><font color="yellow" size="6"> Please wait..</font></div>
	<script type="text/javascript" src="${pageContext.request.contextPath}/js/wz_tooltip.js"></script>
	<html:form action="/NewOrderAction" styleId="searchForm" method="post" enctype="multipart/form-data">
		<jsp:include page="../../TopMenu.jsp" flush="true"/>
		<bean:define id="formBean" name="newOrderBean"></bean:define>
		<html:hidden property="hdnServiceCounter"  />
		<html:hidden property="hdnShowTree"  />
		<html:hidden property="hdnServiceNo"  />
		<html:hidden property="logicalSINo"  />
		<html:hidden property="SPIDUrlforVPC"  />
		<!-- [090] -->
		<input type="hidden" id="cancelReason" value=""/>
		<!-- [091] -->
		<input type="hidden" id="cancelReasonDD" value=""/>
		<input type="hidden" id="answer" value=""/>
		<input type="hidden" id="hdnserviceid" name="hdnserviceid"/> 
		<input type="hidden" id="hdnworkflowid" name="hdnworkflowid"/> 
		<input type="hidden" id="hdnservicetypeid" name="hdnservicetypeid"/>
		<input type="hidden"name="hdnCurrentTempCounter" id="hdnCurrentTempCounter"/>
		<input type="hidden" name="hdnSelectedServiceDetailId">
		<input type="hidden" name="selectedPODetails">
		<!-- added hidden field  isValidatePO [093]-->
		<input onmouseover='getTip(value)' onmouseout='UnTip()' type="hidden" id="isValidatePO" value="0">
		<input type="hidden" id="hdnServiceProductID" />
		<input type="hidden" id="hdnServiceProductName" />
		<input type="hidden" name="HdnChangeTypeID" id="HdnChangeTypeID" value="<bean:write name='formBean' property='changeTypeID'/>">	
		<input type="hidden" name="isBillingTriggerReady" value="<bean:write name='formBean' property='isBillingTriggerReady'/>">
		<input type="hidden" id="latestTab" value="<bean:write name='formBean' property='latestTab'/>">	
		<input type="hidden" id="nextForm" value="<bean:write name='formBean' property='newFormOpened'/>">		
		<!-- add [005] --><input type="hidden" name="hdnShowAttachIcon" id="hdnShowAttachIcon"/><!-- end [005] -->
		<html:hidden property="hdnSubchangeType" />
		
<!--Vijay. add condition for demo order recognization and print heading according to order_type  -->		
	 	<logic:present name="objForm" scope="request"> 
			<logic:equal name="objForm" property="isDemoOrder" value="1">
				<div class="head"> <span>Demo Change Order </span> </div>
				<input type="hidden" name="isDemoOrder" id="isDemoOrder" value="ON"/>
			</logic:equal>
			<logic:equal name="objForm" property="isDemoOrder" value="">
				<div class="head"> <span>Change Order Entry </span> </div>
				<input type="hidden" name="isDemoOrder" id="isDemoOrder" value=""/>
			</logic:equal>
    	</logic:present> 
		
		
		<logic:present name="accountDetailsBean" scope="request">
			<logic:notEmpty name="accountDetailsBean" scope="request">
				<logic:iterate id="row1"  name="accountDetailsBean" indexId="index_report" type="com.ibm.ioes.forms.OrderHeaderDTO">
					<logic:equal name="row1" property="chkIsDemo" value="D">
						<div class="head"> <span>Demo Change Order </span> </div>
						<input type="hidden" name="isDemoOrder" id="isDemoOrder" value="ON"/>
						<input type="hidden" id="demoOrderType" name="demoOrderType" value="D" /> 
  					</logic:equal>
  					<logic:equal name="row1" property="chkIsDemo" value="N">
						<div class="head"> <span>Change Order Entry </span> </div>
						<input type="hidden" name="isDemoOrder" id="isDemoOrder" value=""/>
						<input type="hidden" id="demoOrderType" name="demoOrderType" value="N" /> 
					</logic:equal>
				</logic:iterate>
			</logic:notEmpty>
		</logic:present>
		<!--   vijay. end -->
    	
		
		<div class="error" align="center">
			<logic:present name="validation_errors">
				<logic:iterate id="error_row" name="validation_errors" scope="request">
						<font color="red"><bean:write name="error_row" /></font><BR>
				</logic:iterate>
			</logic:present>
			<html:messages id="message" message="true">
				<li><font color="red"><bean:write name="message"/></font></li>
			</html:messages>
		</div>
		<% String currentstage=""; %>
		<table width="100%"  border="0" cellspacing="0" cellpadding="0">
			<tr>
				<td width="40%" valign="top">
					<fieldset class="border1">
						<legend> <b>Customer</b> </legend>
						<logic:present name="accountDetailsBean" scope="request">
							<logic:notEmpty name="accountDetailsBean" scope="request">
								<logic:iterate id="row1"  name="accountDetailsBean" indexId="index_report">
									<table border="0" cellspacing="0" cellpadding="1" style="margin-top:7px ">
										<tr>
											<td align="right" style="font-size:9px" >CRM A\C No</td>
											<td>
												<html:hidden name="row1" property="accountID" styleId="accNo"></html:hidden>

												<html:hidden name="row1" property="hdnCreatedBy" styleId="createdByRole"></html:hidden>
												

												<html:text onmouseover='getTip(value)' onmouseout='UnTip()' name="row1" property="crmAccountNo" styleId="crmAccNo" styleClass="inputDisabled" style="width:100px;float:left;" readonly="true"></html:text>
												<img border="0" src="<%=request.getContextPath()%>/images/loading.gif" alt="Loading..." width="20" height="21"  id="imgLoadingId" style="display:none" />
											</td>
											<td align="right" style="font-size:9px;" nowrap>Party Name</td>
											<td colspan="4"><html:text onmouseover='getTip(value)' onmouseout='UnTip()' name="row1"  property="accountName" styleClass="inputDisabled" style="width:290px;" readonly="true"></html:text></td>
										</tr>
										<tr>
											<td align="right" style="font-size:9px" nowrap> A\C Mgr </td>
											<td><html:text onmouseover='getTip(value)' onmouseout='UnTip()' name="row1" property="accountManager" styleClass="inputDisabled" style="width:100px;" readonly="true"></html:text></td>
											<!-- [082] Starts -->
											<td align="right" style="font-size:9px" nowrap> A\C Short Code</td>
											<td><html:text onmouseover='getTip(value)' onmouseout='UnTip()' name="row1" property="m6ShortCode" styleClass="inputDisabled" style="width:80px; float:left;" readonly="true"></html:text></td>		
											<!-- [082] Ends -->
											<td align="right" style="font-size:9px" nowrap> Collection Mgr </td>
											<td><html:text onmouseover='getTip(value)' onmouseout='UnTip()' name="row1" property="collectionMgr" styleClass="inputDisabled" style="width:100px;" readonly="true"></html:text></td>		
										</tr>
										<tr>
										<!-- Start[048] -->
										<html:hidden name="row1" property="projectManagerID" styleId="projectManagerID"></html:hidden>
											<td align="right" style="font-size:9px" nowrap="nowrap"> Project Mgr  </td>
											<td><html:text onmouseover='getTip(value)' onmouseout='UnTip()' property="projectManager" styleClass="inputDisabled" style="width:100px;float:left;" name="row1" readonly="true"></html:text></td>
									<!-- End[048] -->
											<td align="right" style="font-size:9px"> Segment </td>
											<td ><html:text onmouseover='getTip(value)' onmouseout='UnTip()' name="row1" property="lob" styleClass="inputDisabled" style="width:110px;" readonly="true"></html:text></td>
											<%--CBR sartyapan--%>
											<td align="right" style="font-size:9px"> A\C OSP </td>
											<td ><html:text onmouseover='getTip(value)' onmouseout='UnTip()' name="row1" property="osp" styleClass="inputDisabled" style="width:100px;" readonly="true"></html:text></td>
										
										</tr>
										<tr>
											<td align="right" style="font-size:9px"> Circle </td>
											<td ><html:text onmouseover='getTip(value)' onmouseout='UnTip()' name="row1" property="circle" styleClass="inputDisabled" style="width:100px;" readonly="true"></html:text></td>
											<!-- Start [087] -->
											<td align="right" style="font-size:9px"> Category </td>
											<td ><html:text onmouseover='getTip(value)' onmouseout='UnTip()' name="row1" property="category" styleClass="inputDisabled" style="width:100px;" readonly="true"></html:text></td>
											<!-- End [087] -->
											
											<!-- Start [089] -->
											<td align="right" style="font-size:9px"> Group Name </td>
											<td ><html:text onmouseover='getTip(value)' onmouseout='UnTip()' name="row1" property="groupName" styleClass="inputDisabled" style="width:110px;" readonly="true"></html:text></td>										
											<!-- End [089] -->
											
										</tr>
                                        <!--[092] Start-->
										    <td align="right" style="font-size:9px"> Service Segment </td>
										    <td ><html:text onmouseover='getTip(value)' onmouseout='UnTip()' name="row1" property="serviceSegment" styleClass="inputDisabled" style="width:110px;" readonly="true"></html:text></td>
										<!--[092] End-->
									</table>
								</logic:iterate>
							</logic:notEmpty>
						</logic:present>
						<logic:notPresent name="accountDetailsBean" scope="request">
							<table border="0" cellspacing="0" cellpadding="1" style="margin-top:7px ">
								<tr>
									<td align="right" style="font-size:9px"> A\C No </td>
									<td>
										<html:hidden property="accountID" styleId="accNo"></html:hidden>
										<html:text onmouseover='getTip(value)' onmouseout='UnTip()' property="crmAccountNo" maxlength="10" styleId="crmAccNo" styleClass="inputBorder1" style="width:110px;float:left;" onchange='populateAccountWith()' onkeydown="if (event.keyCode == 13)  return populateAccountWith();"></html:text>
										<img border="0" src="<%=request.getContextPath()%>/images/loading.gif" alt="Loading..." width="20" height="21"  id="imgLoadingId" style="display:none" />
										<div class="searchBg1" id="divSelectAccount"><a href="#" title="Select Account" onClick="return popitup('SelectAccount'); clearChannelPartner();">...</a></div> 
									</td>
									<td align="right" style="font-size:9px;" nowrap="nowrap">Party Name</td>
									<td colspan="4"><html:text onmouseover='getTip(value)' onmouseout='UnTip()'  property="accountName" styleClass="inputDisabled" style="width:290px;" readonly="true"></html:text></td>
								</tr>
								<tr>
									<td align="right" style="font-size:9px" nowrap="nowrap"> A\C Mgr </td>
									<td><html:text onmouseover='getTip(value)' onmouseout='UnTip()' property="accountManager" styleClass="inputDisabled" style="width:110px;float:left;" readonly="true"></html:text></td>
									<!-- [082] Start -->
									<td align="right" style="font-size:9px"nowrap> Short Code </td>
									<td><input onmouseover='getTip(value)' onmouseout='UnTip()' type="text" style="width:100px;float:left;" readonly="readonly" value="" name="shortCode" class="inputDisabled" size="5"/></td>		
									<!-- [082] End -->
									<td align="right" style="font-size:9px" nowrap> Collection Mgr </td>
									<td><html:text onmouseover='getTip(value)' onmouseout='UnTip()' property="collectionMgr" styleClass="inputDisabled" style="width:100px;" readonly="true"></html:text></td>		
								</tr>
								<tr>
								<!-- Start[048] -->
									<html:hidden property="projectManagerID" styleId="projectManagerID"></html:hidden>
									<td align="right" style="font-size:9px" nowrap="nowrap"> Project Mgr  </td>
									<td><html:text onmouseover='getTip(value)' onmouseout='UnTip()' property="projectManager" styleClass="inputDisabled" style="width:110px;float:left;" readonly="true"></html:text></td>
								<!-- End[048] -->
									<td align="right" style="font-size:9px"> Segment </td>
									<td ><html:text onmouseover='getTip(value)' onmouseout='UnTip()'  property="lob" styleClass="inputDisabled" style="width:110px;" readonly="true"></html:text></td>
									<%--CBR sartyapan--%>
									<td align="right" style="font-size:9px"> A\C OSP </td>
									<td ><html:text onmouseover='getTip(value)' onmouseout='UnTip()'  property="osp" styleClass="inputDisabled" style="width:100px;" readonly="true"></html:text></td>
								</tr>
								<tr>
									<td align="right" style="font-size:9px"> Circle </td>
									<td ><html:text onmouseover='getTip(value)' onmouseout='UnTip()'  property="circle" styleClass="inputDisabled" style="width:110px;" readonly="true"></html:text></td>
									<!-- Start [087] -->
									<td align="right" style="font-size:9px"> Category </td>
									<td ><html:text onmouseover='getTip(value)' onmouseout='UnTip()'  property="category" styleClass="inputDisabled" style="width:110px;" readonly="true"></html:text></td>
									<!-- End [087] -->
									
									<!-- Start [089] -->
									<td align="right" style="font-size:9px"> Group Name </td>
									<td ><html:text onmouseover='getTip(value)' onmouseout='UnTip()' property="groupName" styleClass="inputDisabled" style="width:110px;" readonly="true"></html:text></td>										
									<!-- End [089] -->
									
								</tr>
								<!--[092] Start-->
								<tr>
								    <td align="right" style="font-size:9px"> Service Segment </td>
								    <td ><html:text onmouseover='getTip(value)' onmouseout='UnTip()'  property="serviceSegment" styleClass="inputDisabled" style="width:110px;" readonly="true"></html:text></td>
								</tr>
								<!--[092] End-->
							</table>
						</logic:notPresent>
					</fieldset>
				</td>
				<td width="60%" valign="top">
					<fieldset class="border1">
						<legend> <b>Order </b> </legend>
						<logic:present name="accountDetailsBean" scope="request">
							<logic:notEmpty name="accountDetailsBean" scope="request">
								<logic:iterate id="row1"  name="accountDetailsBean" indexId="index_report" type="com.ibm.ioes.forms.OrderHeaderDTO">
									<table border="0" cellspacing="0" cellpadding="1" style="margin-top:7px ">
										<tr>
											<td align="right" style="font-size:9px" nowrap> Order Type </td>
											<td><html:text onmouseover='getTip(value)' onmouseout='UnTip()' name="row1" property="orderType" readonly="true" styleClass="inputDisabled" style="width:75px;" readonly="true"></html:text> </td>
											
											<!-- Vijay start for recognizing demo order through database  -->
											<html:hidden property="chkIsDemo" styleId="	"  name="row1" ></html:hidden>
											<!-- vijay end -->
											
											<td align="right" style="font-size:9px" nowrap>Order Date</td>
											<td><html:text onmouseover='getTip(value)' onmouseout='UnTip()' name="row1" property="orderDate" readonly="true" styleClass="inputDisabled" style="width:80px;" readonly="true"></html:text></td>
											<td align="right" style="font-size:9px">Order Origin</td>
											<td nowrap="nowrap">
												<html:text onmouseover='getTip(value)' onmouseout='UnTip()'  property="orderCreationSourceName" name="row1" styleClass="inputDisabled" style="width:150px;" styleId="txtOrderCreationSourceName" readonly="true"></html:text>
											</td>
											<td align="right" style="font-size:9px">Source</td>
											<td>
												<html:text onmouseover='getTip(value)' onmouseout='UnTip()' name="row1" property="sourceName" styleClass="inputBorder1" style="width:80px; float:left;" readonly="true"></html:text>
											</td>
											<td align="right" style="font-size:9px" nowrap> </td>
											<td nowrap="nowrap">
												
											</td>
											</tr>
											<tr>
										<!-- [088]	START	-->
										<!--
											<td align="right" style="font-size:9px" nowrap> Quote No </td>
											<td nowrap="nowrap">
											<div id="txtQuoteNo" style="display:block; ">
												<html:text onmouseover='getTip(value)' onmouseout='UnTip()'  property="quoteNo" name="row1" styleClass="inputDisabled" style="width:75px;" styleId="txtquotesNo" readonly="true"></html:text>
										</div>	
										<div id="cboQuoteNo" style="display:none; ">										
											<html:select onmouseover='getTip_DD(this,this.selectedIndex,this.name)' property="quoteNo" styleId="quoteNo" styleClass="inputBorder1" style="width:110px;float:left;">
												<html:option value="0">--Select--</html:option>
											</html:select>											
										</div>
											</td>
											-->
										<!--[88]	END	-->
											<td align="right" style="font-size:9px" nowrap> Currency </td>											
											<td>
												<html:text onmouseover='getTip(value)' onmouseout='UnTip()' name="row1" property="curShortCode" styleId="curShortCode" styleClass="inputBorder1" style="width:80px; float:left;"  onchange='autoFillCurrency()' onkeydown="if (event.keyCode == 13)  return autoFillCurrency();"></html:text>
												<html:hidden property="currencyID" styleId="currencyID"></html:hidden>
												<div class="searchBg1" id="divSelectCurrencyId"><a href="#" onClick="return popitup('SelectCurrency')">...</a></div>
											</td>
										<!-- [082]	Start 
											<td align="right" style="font-size:9px" nowrap>Opportunity ID</td>
											<td>
												<html:text onmouseover='getTip(value)' onmouseout='UnTip()'  property="opportunityId" name="row1" styleClass="inputDisabled" style="width:75px;" readonly="true"></html:text>
											</td>
										 [082]	End -->
										 <!-- [088]	Start -->											
											<td colspan="2" align="center">
											<div id="selOpp">											
												<input name="btnOpportunity" id="btnOpportunity" onClick="return popitup('SelectOpportunity');" type="button" value="Select Opportunity/ePcn No.">																						
											</div>
											<div id="viewOpp">											
												<input name="btnOpportunity" id="btnOpportunity" onClick="return popitup('SelectOpportunity');" type="button" value="View Opportunity/ePcn No.">																						
											</div>
											<html:hidden property="opportunityId" styleId="opportunityId"/>
											</td>
											<html:hidden property="quoteNo" styleId="quoteNo"/>
											<html:hidden property="txtquotesNo" styleId="txtquotesNo"/>
										<!-- [088]	End -->
										</tr> 
										<tr>
											<td align="right" style="font-size:9px" nowrap>Order No</td>
											<td>
												<html:text onmouseover='getTip(value)' onmouseout='UnTip()' name="row1" property="poNumber" readonly="true" styleClass="inputDisabled" style="width:75px;" readonly="true"></html:text> 
												<html:hidden property="hdnOrderNo"/>
												<html:hidden property="hdnOrderCreationSource" styleId="hdnOrderCreationSourceId"/>
											</td>
											<td align="right" style="font-size:9px" nowrap> Status </td>
											<td>
												<html:text onmouseover='getTip(value)' onmouseout='UnTip()' name="row1" property="orderStatusValue" readonly="true" styleClass="inputDisabled" style="width:80px;" readonly="true"></html:text> 
											</td>
											<td align="right" style="font-size:9px" nowrap> Stage </td>
											<!-- [014]	Start -->
											<%
												
												currentstage = 	row1.getStageName();
											 %>
											<td>
												<html:hidden property="stageName" name="row1" />
												<html:text onmouseover='getTip(value)' onmouseout='UnTip()' property="orderStageAnnotationName" readonly="true" name="row1" styleClass="inputDisabled" style="width:80px;"></html:text> 
											</td>
											<!-- [014]	End -->
											<td align="right" style="font-size:9px" colspan="1" nowrap> High Priority</td>
											<td>
											<%
													if(row1.getIsUrgent()==1)
													{	
												 %>
													<input type="checkbox" id="isUrgent" checked="checked" name="chkIsDemo" CHECKED > 
												<%
													}
												 %>
												 <%
													if(row1.getIsUrgent()==0)
													{	
												 %>
													<input type="checkbox" id="isUrgent"  name="chkIsDemo"  UNCHECKED DISABLED> 
												<%
													}
												 %>	
											</td>
											
											
											<logic:equal name="row1" property="chkIsDemo" value="N">
											<td align="center" style="font-size:9px" colspan="1" nowrap> Is Demo</td>
											<td><input onmouseover='getTip(value)' onmouseout='UnTip()' type="checkbox" id="chkIsDemo" name="chkIsDemo" disabled="disabled"> </td>
											<td align="center" style="font-size:9px" colspan="1" nowrap> Demo Days</td>
											<td><html:text onmouseover='getTip(value)' onmouseout='UnTip()' name="row1" property="noOfDaysForDemo" maxlength="4" styleClass="inputBorder2" style="width:100px; float:left;" onblur="if( trim(this.value).length>0){ return demoValidation(this)};"></html:text></td>
											</logic:equal>
											<logic:equal name="row1" property="chkIsDemo" value="D">
											<td align="center" style="font-size:9px" colspan="1" nowrap> Is Demo</td>
											<td><input onmouseover='getTip(value)' onmouseout='UnTip()' type="checkbox" id="chkIsDemo" name="chkIsDemo" disabled="disabled" checked="checked"> </td>
											<td align="center" style="font-size:9px" colspan="1" nowrap> Demo Days</td>
											<td><html:text onmouseover='getTip(value)' onmouseout='UnTip()' name="row1" property="noOfDaysForDemo" maxlength="4" styleClass="inputBorder1" style="width:100px; float:left;" onblur="if( trim(this.value).length>0){ return demoValidation(this)};"></html:text></td>
												</logic:equal>
														    
														<!-- [004]	End --> 
												</td> 
										</tr>
										<%-- [094] Start PROJECT SATYAPAN --%>
										<tr>
										<%if(row1.getIspTagging()!=1){ %>
											<c:set var="isMand" value="2"></c:set>
										<%}else{ %>
											<c:set var="isMand" value="1"></c:set>
										<%} %>			
											<td align="right" style="font-size:9px" >ISP Tagging</td>
											<td nowrap>										
												<html:select property="ispTagging" styleId="ispTagging" styleClass="inputBorder1" style="width:100px; float:left;"  onmouseover='getTip_DD(this,this.selectedIndex,this.name)' onchange="checkIspTaggingMandate(this.selectedIndex);" onfocus="chkIsISPChangeAllowed(1);">
													<html:option value="0">NO</html:option>
													<html:option value="1">YES</html:option>
												</html:select>
												
											</td>
											<td align="right" style="font-size:9px" >ISP License Category</td>
											<td nowrap>										
												<html:select property="ispLicCtgry" styleId="ispLicCtgry" styleClass="inputBorder${isMand }" style="width:100px; float:left;"  onmouseover='getTip_DD(this,this.selectedIndex,this.name)' onfocus="chkIsISPChangeAllowed(2);">
													<html:option value="0">NA</html:option>
													<html:option value="1">A</html:option>
													<html:option value="2">B</html:option>
													<html:option value="3">C</html:option>
												</html:select>
												
											</td>
											<td align="right" style="font-size:9px" >ISP License Date</td>
											<td nowrap>
												<input onmouseover='getTip(value)' onmouseout='UnTip()' type="text" width="100%" class="inputBorder${isMand }" isRequired="0" id="ispLicDate" name="ispLicDate" value="<bean:write name="row1" property="ispLicDate"/>" readonly="readonly" onblur="if(this.value.length > 0){return checkdate(this)}" onfocus="chkIsISPChangeAllowed(2);">
												<font size="1">
													<a href="#" class="borderTabCal"><img id="dateIspLic" src="<%=request.getContextPath()%>/images/cal.gif" border="0px" alt="Select date" style="vertical-align: bottom;" onfocus="chkIsISPChangeAllowed(2);"></a>											
												</font>
											</td>
											<td align="right" style="font-size:9px" >ISP License Number</td>
											<td nowrap>
												<html:text onmouseover='getTip(value)' onmouseout='UnTip()' property="ispLicNo" styleClass="inputBorder${isMand }" style="width:80px;" onfocus="chkIsISPChangeAllowed(2);" maxlength="50"></html:text>
											</td>
										</tr>
										
										<tr> 
											<%-- <%if(!row1.getChannelMasterTagging().equalsIgnoreCase("1")){ %> --%>
											<%if(!("1".equalsIgnoreCase(row1.getChannelMasterTagging()))){ %>
											<c:set var="isMand" value="2"></c:set>
											<%}else{ %>
											<c:set var="isMand" value="1"></c:set>
											<%} %> 
											<table border="0" cellspacing="0" cellpadding="1">
											<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
											<td align="right" nowrap="nowrap" style="font-size:9px" >Channel</br>Partner</br>Tagging </td>
											
											<td nowrap>	
												<html:select property="channelMasterTagging" styleId="channelMasterTagging" styleClass="inputBorder1" style="width:55px; float:left;"  onmouseover='getTip_DD(this,this.selectedIndex,this.name)' onchange="channelPartnerEnabledAndDisabled(this.selectedIndex);selectChannelPartner();" onfocus="chkIschannelPatnerTaggingAllowed(1);">
													<html:option value="0">NO</html:option>
													<html:option value="1">YES</html:option>
												</html:select>
											</td>
											
											<td><div id="channelPartnerlbl" align="right" nowrap="nowrap"  style="font-size:9px;margin-left:22px;">Channel Partner </div></td>
											
										<!-- 	<td><div class="searchBg1" id="divChannelPartner" styleClass="inputBorder1" ><a href="#"  styleId="divChannelPartner" title="Select Channel Partner" onClick="selectChannelPartner()" >...</a></div></td> -->
											
											<td colspan="3" >
												<html:text onmouseover='getTip(value)' onmouseout='UnTip()' property="channelPartnerName"  styleId="partnerName" styleClass="inputDisabled" style="width:210px;text-align:left;float:left;margin:2px" readonly="true"></html:text>
												<html:text onmouseover='getTip(value)' onmouseout='UnTip()'  property="channelpartnerCode"  styleId="partnerCode" styleClass="inputDisabled" style="width:170px;text-align:left;float:left;margin:2px" readonly="true" ></html:text>
											</td>
																						
											<td><div id="fieldEngineerlbl" align="right" nowrap="nowrap"  class="hidden" style="font-size:9px;margin-left:9px;">FSE </br></div></td>
											<td>
											<html:text onmouseover='getTip(value)' onmouseout='UnTip()'  property="fieldEngineer" styleId="fieldEngineer" styleClass="inputDisabled" style="width:150px;float:left;text-align: left;margin-left:9px;" readonly="true"></html:text>
											</td>
													
												<html:hidden  styleId="partnerID" property="channelPartnerId"></html:hidden>
												<html:hidden  styleId="fieldEngineerId" property="fieldEngineerId"></html:hidden>
											</td>
										</tr>
										
										<%-- [094] END PROJECT SATYAPAN --%>
									</table>
								</logic:iterate>
							</logic:notEmpty>
						</logic:present>
						<logic:notPresent name="accountDetailsBean" scope="request">
							<table border="0" cellspacing="0" cellpadding="1" style="margin-top:7px ">
								<tr>
									<td align="right" style="font-size:9px" nowrap> Order Type </td>
									<td><input onmouseover='getTip(value)' onmouseout='UnTip()' name="orderType" class="inputDisabled" size="5" readonly="true" value="Change" style="width:110px;"/></td>
									<td align="right" style="font-size:9px" nowrap>Order Date</td>
									<%SimpleDateFormat sdf_Date=new SimpleDateFormat("dd/MM/yyyy");%>
									<td><input onmouseover='getTip(value)' onmouseout='UnTip()' style="width:80px;" name="orderDate" class="inputDisabled" size="10" readonly="true" value="<%=sdf_Date.format(new Date(System.currentTimeMillis()))%>"/></td>
									<td align="right" style="font-size:9px">Order Origin</td>
									<td nowrap="nowrap">
										<html:text onmouseover='getTip(value)' onmouseout='UnTip()'  property="orderCreationSourceName"  styleClass="inputDisabled" style="width:150px;" styleId="txtOrderCreationSourceName" readonly="true"></html:text>
									</td>
									<td align="right" style="font-size:9px">Source</td>
								<!-- [088]	Start -->
									<!-- 
									<td>
										<html:select property="sourceName" styleId="sourceName" styleClass="inputBorder1" style="width:100px; float:left;"  onchange="validateSource();fnGetOpportunityId();" onmouseover='getTip_DD(this,this.selectedIndex,this.name)'>
												<!--<html:option value="0">--Select--</html:option>
												<html:option value="CRMORDER">CRMORDER</html:option>
												<html:option value="CRMQUOTE">CRMQUOTE</html:option>
										</html:select>
									</td>
									-->
									<td>
										<html:text onmouseover='getTip(value)' onmouseout='UnTip()' name="row1" property="sourceName" value="CRMORDER" styleClass="inputBorder1" style="width:100px; float:left;" readonly="true"></html:text>
									</td>
								<!-- [088]	END -->
									<td align="right" style="font-size:9px" nowrap></td>
									<td nowrap="nowrap">
																					
									</td>
									</tr>
									<tr>
								<!-- [088]	START	-->
									<!--
									<td align="right" style="font-size:9px" nowrap> Quote No </td>
																		<td nowrap="nowrap">
										<div id="txtQuoteNo" style="display:block; ">
												<html:text onmouseover='getTip(value)' onmouseout='UnTip()'  property="txtquotesNo" styleClass="inputDisabled" styleId="txtquotesNo" style="width:110px;float:left;" readonly="true"></html:text>
										</div>	
										<div id="cboQuoteNo" style="display:none; ">										
											<html:select onmouseover='getTip_DD(this,this.selectedIndex,this.name)' property="quoteNo" styleId="quoteNo" styleClass="inputBorder1" style="width:110px;float:left;" onchange="fnGetOpportunityId();">
												<html:option value="0">--Select--</html:option>
											</html:select>											
										</div>
									</td>	
									-->
								<!-- [088]	END	-->	
									<td align="right" style="font-size:9px" nowrap> Currency </td>
									<td>
										<html:text onmouseover='getTip(value)' onmouseout='UnTip()' property="curShortCode" value="INR" styleId="curShortCode" styleClass="inputBorder1" style="width:50px; float:left;"  onchange='autoFillCurrency()' onkeydown="if (event.keyCode == 13)  return autoFillCurrency();"></html:text>
										<html:hidden property="currencyID" styleId="currencyID" value="1"></html:hidden>
										<div class="searchBg1" id="divSelectCurrencyId"><a href="#" title="Select Currency" onClick="return popitup('SelectCurrency')">...</a></div></td>
										<!-- [082]	Start 
										<td align="right" style="font-size:9px" nowrap> Opportunity ID </td>
										<td>
											<html:select onmouseover='getTip_DD(this,this.selectedIndex,this.name)' property="opportunityId"  styleClass="inputBorder2" style="width:110px;float:left;">
												<html:option value="0">--Select--</html:option>
											</html:select>	
										</td>
										<!-- [082]	End -->
									<!-- [088]	Start	-->	
										<html:hidden property="opportunityId" styleId="opportunityId"/>
										<html:hidden property="quoteNo" styleId="quoteNo"/>
										<html:hidden property="txtquotesNo" styleId="txtquotesNo"/>
									<!-- [088]	END	-->	
									</tr>
									<tr>
										<td align="right" style="font-size:9px" nowrap>Order No</td>
										<td>
											<%int orderNo=((Integer)request.getAttribute("MaxOrderBean")).intValue();
											if (orderNo!=0)
											{%>
											<input onmouseover='getTip(value)' onmouseout='UnTip()' type="text" style="width:110px;" readonly="readonly" value="<%=orderNo %>" name="poNumber" class="inputDisabled" size="5"/> 	
											<%} else {%>
											<input type="text"  class="inputDisabled" style="width:110px" value="" readonly="readonly"/>
											<html:hidden property="hdnOrderNo"/>
											<html:hidden property="poNumber" value="0"/>
											<%} %>
											<html:hidden property="hdnOrderCreationSource" styleId="hdnOrderCreationSourceId"/>
										</td>
										<td align="right" style="font-size:9px" nowrap> Status </td>
										<td>
											<html:text onmouseover='getTip(value)' onmouseout='UnTip()' value="Incomplete" property="status" readonly="true" styleClass="inputDisabled" style="width:80px;" readonly="true"></html:text> 
										</td>
										<td align="right" style="font-size:9px" nowrap> Stage </td>
										<td>
											<html:hidden property="stageName" value="New"/>
											<html:text onmouseover='getTip(value)' onmouseout='UnTip()' property="orderStageAnnotationName" readonly="true" styleClass="inputDisabled" style="width:100px;" value="New"></html:text> 
										</td>
										<td align="right" style="font-size:9px" colspan="1" nowrap>High Priority</td>
										<td align="left">
											<html:checkbox property="isUrgent"   ></html:checkbox>  
										</td>
										<td align="center" style="font-size:9px"> Is Demo </td>
												<td><input onmouseover='getTip(value)' onmouseout='UnTip()' type="checkbox" id="chkIsDemo" name="chkIsDemo" disabled="disabled"> 
												</td>		
												<td style="font-size:9px" align="center">
														      Demo Days<html:text onmouseover='getTip(value)' onmouseout='UnTip()'  property="noOfDaysForDemo" maxlength="4" styleClass="inputBorder2" style="width:100px; float:left;" onblur="if( trim(this.value).length>0){ return demoValidation(this)};"></html:text>
												
										</td> 
									
									</tr>
									<%-- [094] Start PROJECT SATYAPAN --%>
										<tr>
											<td align="right" style="font-size:9px" >ISP Tagging</td>
											<td nowrap>										
												<html:select property="ispTagging" styleId="ispTagging" styleClass="inputBorder1" style="width:100px; float:left;"  onmouseover='getTip_DD(this,this.selectedIndex,this.name)' onchange="checkIspTaggingMandate(this.selectedIndex);" onfocus="chkIsISPChangeAllowed(1);">
													<html:option value="0">NO</html:option>
													<html:option value="1">YES</html:option>
												</html:select>
											</td>
											<td align="right" style="font-size:9px" >ISP License Category</td>
											<td nowrap>										
												<html:select property="ispLicCtgry" styleId="ispLicCtgry" styleClass="inputBorder2" style="width:100px; float:left;"  onmouseover='getTip_DD(this,this.selectedIndex,this.name)' onfocus="chkIsISPChangeAllowed(2);">
													<html:option value="0">NA</html:option>
													<html:option value="1">A</html:option>
													<html:option value="2">B</html:option>
													<html:option value="3">C</html:option>
												</html:select>
											</td>
											<td align="right" style="font-size:9px" >ISP License Date</td>
											<td nowrap>
												<input onmouseover='getTip(value)' onmouseout='UnTip()' type="text" width="100%" class="inputBorder2" isRequired="0" id="ispLicDate" name="ispLicDate" readonly="readonly" onblur="if(this.value.length > 0){return checkdate(this)}" onfocus="chkIsISPChangeAllowed(2);">
												<font size="1">
													<a href="#" class="borderTabCal"><img id="dateIspLic" src="<%=request.getContextPath()%>/images/cal.gif" border="0px" alt="Select date" style="vertical-align: bottom;" onfocus="chkIsISPChangeAllowed(2);"></a>											
												</font>
											</td>
											<td align="right" style="font-size:9px" >ISP License Number</td>
											<td nowrap>
												<html:text onmouseover='getTip(value)' onmouseout='UnTip()' property="ispLicNo" styleClass="inputBorder2" style="width:80px;" onfocus="chkIsISPChangeAllowed(2);" maxlength="50"></html:text>
											</td>
										</tr>
										
										<tr>
<%-- 											<%if(!row1.getChannelMasterTagging().equalsIgnoreCase("1")){ %>
 --%>										
 											<%-- <%if(row1.getIspTagging()!=1){ %>	
 											<c:set var="isMand" value="2"></c:set>
											<%}else{ %>
											<c:set var="isMand" value="1"></c:set>
											<%} %> --%>
											<table border="0" cellspacing="0" cellpadding="1">
											<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
											<td align="right" nowrap="nowrap" style="font-size:9px" >Channel</br>Partner</br>Tagging </td>
											
											<td nowrap>	
												<html:select property="channelMasterTagging" styleId="channelMasterTagging"  styleClass="inputBorder1" style="width:55px; float:left;"  onmouseover='getTip_DD(this,this.selectedIndex,this.name)' onchange="channelPartnerEnabledAndDisabled(this.selectedIndex);selectChannelPartner();" onfocus="chkIschannelPatnerTaggingAllowed(1);">
													<html:option value="0">NO</html:option>
													<html:option value="1">YES</html:option>
												</html:select>
											</td>
											
											<td><div id="channelPartnerlbl" align="right" nowrap="nowrap"  style="font-size:9px;margin-left:32px;">Channel Partner </div></td>
											
										<!-- 	<td><div style="margin-left:6px;" class="searchBg1" id="divChannelPartner" styleClass="inputBorder1" ><a href="#"  styleId="divChannelPartner" title="Select Channel Partner" onClick="selectChannelPartner()" >...</a></div></td> -->
											
											<td colspan="3" >
												<html:text onmouseover='getTip(value)' onmouseout='UnTip()' property="channelPartnerName"  styleId="partnerName" styleClass="inputDisabled" style="width:210px;text-align:left;float:left;margin:2px" readonly="true"></html:text>
												<html:text onmouseover='getTip(value)' onmouseout='UnTip()'  property="channelpartnerCode"  styleId="partnerCode" styleClass="inputDisabled" style="width:170px;text-align:left;float:left;margin:2px" readonly="true" ></html:text>
											</td>
																						
											<td><div id="fieldEngineerlbl" align="right" nowrap="nowrap"  class="hidden" style="font-size:9px;margin-left:9px;">FSE </br></div></td>
											<td>
											<html:text onmouseover='getTip(value)' onmouseout='UnTip()'  property="fieldEngineer" styleId="fieldEngineer" styleClass="inputDisabled" style="width:150px;float:left;text-align: left;margin-left:9px;" readonly="true"></html:text>
											</td>
											<td>		
												<html:hidden  styleId="partnerID" property="channelPartnerId"></html:hidden>
												<html:hidden  styleId="fieldEngineerId" property="fieldEngineerId"></html:hidden>
											</td>
												
											
											</td>
											</table>
										</tr>	
					
										
										<%-- [094] END PROJECT SATYAPAN --%>
								</table>
							</logic:notPresent>
						</fieldset>
					</td>
				</tr>
			</table>
			<table width="100%"  border="0" cellspacing="0" cellpadding="0">
				<tr>
					<td width="50%">
						<OL id="toc" class="tabledata">
							<!-- //--[084]--start of modiyed some code--// -->
							<li id="li1" class="current" onClick="changeTab('li1',1,'block','none','none','none','none')"><a href="#" >MAIN</a></li>
							<logic:present name="MainDetailsWithAttributesBean" scope="request"> <li id="li2" class="" onClick="changeTab('li2',2,'none','block','none','none','none')"><a href="#">CONTACT</a></li></logic:present>
							<!-- [016] Start-->
							<logic:notEqual value="3" name="formBean" property="changeTypeID">
								<logic:notEqual value="1" name="formBean" property="changeTypeID">
									<logic:present name="listContactDetails" scope="request">
										<logic:notEmpty name="listContactDetails">
											<li id="li3" class="" onClick="changeTab('li3',3,'none','none','block','none','none')"><a href="#">PO DETAILS</a></li>
										</logic:notEmpty>
									</logic:present>
								</logic:notEqual>	
							</logic:notEqual>
					
							<logic:notEqual value="3" name="formBean" property="changeTypeID">
								<logic:notEqual value="1" name="formBean" property="changeTypeID">
									<logic:present name="listPoDetails" scope="request">
										<logic:notEmpty name="listPoDetails">
											<li id="li5" class="" onClick="changeTab('li5',5,'none','none','none','block','none')"><a href="#">LINES</a></li>
										</logic:notEmpty>
									</logic:present>
								</logic:notEqual>
							</logic:notEqual>
							
							<logic:equal value="3" name="formBean" property="changeTypeID">
								<logic:notEmpty name="listContactDetails">
									<li id="li5" class="" onClick="changeTab('li5',5,'none','none','none','block','none')"><a href="#">LINES</a></li>
								</logic:notEmpty>
							</logic:equal>
							
							<logic:equal value="1" name="formBean" property="changeTypeID">
								<logic:notEmpty name="listContactDetails">
									<li id="li5" class="" onClick="changeTab('li5',5,'none','none','none','block','none')"><a href="#">LINES</a></li>
								</logic:notEmpty>	
							</logic:equal>
							<!-- [017] End-->
								<% String modeValue=request.getParameter("modeName");
								//if(("editON").equals(modeValue))
								{%>
							
							<logic:present name="taskListOfOrder" scope="request">								
								<!-- [017] Start-->
								<logic:notEqual value="3" name="formBean" property="changeTypeID">
									<logic:notEqual value="1" name="formBean" property="changeTypeID">
										<logic:notEmpty name="listPoDetails">
											<li id="li6" class="" onClick="changeTab('li6',6,'none','none','none','none','block')"><a href="#">APPROVAL</a></li>
										</logic:notEmpty>
									</logic:notEqual>
								</logic:notEqual>	
								<logic:equal value="3" name="formBean" property="changeTypeID">
								<!-- 034 start-->
								<logic:notEmpty name="listContactDetails">
									<!-- 034 end-->
									<li id="li6" class="" onClick="changeTab('li6',6,'none','none','none','none','block')"><a href="#">APPROVAL</a></li>
										</logic:notEmpty>
								</logic:equal>
								<logic:equal value="1" name="formBean" property="changeTypeID">
								<logic:notEmpty name="listContactDetails">
									<li id="li6" class="" onClick="changeTab('li6',6,'none','none','none','none','block')"><a href="#">APPROVAL</a></li>
									<!-- //--[084]--end of modiyed some code--// -->
									</logic:notEmpty>
								</logic:equal>
								<!-- [017] End-->
							</logic:present>
							<%}%>
							<input type="hidden" name="hdnTabVal" value="1">				
						</OL>
					</td>
					<%
						String modeValue2= request.getParameter("modeName");
						
					if(("editON").equals(modeValue2))
					{
					 %>
					<td width="50%" align="right">
						<logic:equal name="formBean" property="isBillingTriggerReady" value="ENABLE">
						<!-- [15032013017]  -->
						<img id="idCountLineItemsImg" src="gifs/middle/calc.gif" width="25px" height="25px" alt="Count Line Items" onclick="return countitems(path,sessionId,'Change')" title="Count Items">
						<!-- [15032013017]  --></logic:equal>
						<logic:equal name="formBean" property="isOrderPublished" value="DISABLE" >
								<html:button property="" styleId="idPublishbtn" value="Publish" onclick="javascript:fnPublish();" disabled="true"/>&nbsp;
						</logic:equal>	
						
						
						<logic:equal name="formBean"  property="isOrderPublished" value="ENABLE">
								<html:button property="" styleId="idPublishbtn" value="Publish" onclick="javascript:fnPublish();"/>&nbsp;
						</logic:equal>
						
						<logic:equal name="formBean" property="isBillingTriggerReady" value="ENABLE">
						<!-- [15032013013] - start -->
						    <% 
							if((AppConstants.COPC_ROLE).equals(objUserDto.getUserRoleId()) )
						    {
     						%>
     						  <html:button property=""  styleId="billingTriggerID" value="Billing Trigger" disabled="true" onclick="javascript:fnBillingTrigger();" />&nbsp;
     						<%} 
     						else{%>
							<html:button property="" styleId="billingTriggerID" value="Billing Trigger" onclick="javascript:fnBillingTrigger();"/>&nbsp;
							<%} %>
						<!-- [15032013013] - end -->	
						</logic:equal>
						<logic:equal name="formBean" property="isBillingTriggerReady" value="DISABLE">
							<html:button property=""  styleId="billingTriggerID" value="Billing Trigger" disabled="true" onclick="javascript:fnBillingTrigger();" />&nbsp;
						</logic:equal>
						
						<!--<logic:equal name="formBean" property="isOrderPublished" value="1">
						<logic:equal name="formBean" property="isBillingTriggerReady" value="2">
							<html:button property=""  value="Check Status" onclick="fnBillingTriggerEnable();" />&nbsp;
						</logic:equal>
						</logic:equal>-->																	
						
						
					</td>
					<%} %>
					<td align="right">
						<logic:present name="accountDetailsBean" scope="request">
						<html:button property="" value="Charge Summary" onclick="javascript:fnChargeSummary();"/>&nbsp;&nbsp;
						<html:button property="" value="Export Charge Summary" onclick="javascript:fnExportChargeSummary();"/>&nbsp;&nbsp;
						</logic:present>
					</td>
				</tr>
			</table>
			<!--  FOR tab 1 Start -->
			<div style="margin:0px 2px 0px 2px;display: block" id="Page_1" class="content" >
				<table width="100%"  border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td width="100%" valign="top">
							<jsp:include flush="true" page="ChangeExtendedAttributes.jsp"></jsp:include>
						</td>
					</tr>
				</table>
			</div>
			<!--  FOR tab 1 Ends -->
			<!--  FOR tab 2 Start -->
			<div style="margin:0px 2px 0px 2px;display: none" id="Page_2" class="content">
				<table width="100%"  border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td valign="top">
						    <jsp:include flush="true" page="ChangeContact.jsp"></jsp:include>
						</td>
					</tr>
				</table>
			</div>
			<!--  FOR tab 2 End -->
			<!--  FOR tab 3 Start -->
			<div style="margin:0px 2px 0px 2px;display: none" id="Page_3" class="content">
				<table width="100%"  border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td valign="top">
						    <jsp:include flush="true" page="ChangePODetails.jsp"></jsp:include>
							<!--#include file="Contacts.asp" -->
						</td>
					</tr>
				</table>
			</div>
			<!--  FOR tab 3 End -->
			<!--  FOR tab 5 Start -->
			<div style="margin:0px 2px 0px 2px;display: none" id="Page_5" class="content">
				<table width="100%" border="0" cellpadding="0" cellspacing="0">
					<tr id="linesTabButtons">
						<logic:equal name="formBean" property="isBillingTriggerReady" value="DISABLE">
							<td width="4%" align="left"><img src="gifs/middle/4.gif" onClick="SelectProductCatelog()"  id="productCatetogIcon" style="display: block;" title="Product Catalog"></td>
							<!-- [017]  Start-->
							<!-- <td width="4%" align="left" ><img id="CopyOrder" src="gifs/middle/Copy Order.gif" onClick="CopyOrder()" title="Copy Order" style="display: none;"></td>-->
							<!-- [017]  End-->
							
						
							<!-- [013] Start -->
								
							<td width="4%" align="left" id=""><img src="gifs/middle/9.gif" onclick="addChildNode();"  id="addChildNodeIcon" style="display: block;" title="Add Child Node"></td>
							<!-- [013] Start -->
							<td width="4%" align="left" ><img src="gifs/middle/search.gif" onClick="serviceProductPopup()" id="idLSILookupImg" style="display: block;" title="Change Services Here"></td>						
							<!-- [15032013017]  Start-->
							<td width="4%" align="left"><img id="idCountLineItemsImg" src="gifs/middle/calc.gif" width="25px" height="25px" alt="Count Items" onclick="return countitems(path,sessionId,'Change')" title="Count Items"></td>
							<!-- [15032013017]  Start-->
							<!--[085] Start-->
							<td width="4%" align="left"><img id="idLinking" src="gifs/middle/linking.GIF" width="20px" height="20px" alt="View LSI Linking for Arbor Products" onclick="viewLSILinking()" title="View LSI Linking"></td>
							<!--[085] Start-->
							<td width="15%" align="left" ><div class="disconnectBg" id = "disconnectionDiv" style="display: none;"><a href="#" onClick="disconnectProducts()">Disconnect Product(s)</a></div>
							<div class="searchBg" id = "suspendDiv" style="display: none;"><a href="#" onClick="disconnectProducts()">Suspend Product(s)</a></div>
							<div class="searchBg" id = "resumeDiv" style="display: none;"><a href="#" onClick="disconnectProducts()">Resume Product(s)</a></div>
							</td>
							<!--<td width="5%" align="left" ><div class="searchBg"><a href="#" onclick="cancelService();">Cancel Service</a></div></td>-->
							<!-- [081] Start -->
							<td width="5%">
							<%--add 0 in validateOrder() [093] --%>
								<div class="searchBg" style="margin-right:10px;" id="validateOrderDiv"><a href="#" onClick="return validateOrder(0)">Validate Order</a></div>
							</td>
							<!-- [081] End -->
								<!-- [039] Start Copy Service product-->
							<td width="5%" align="left" style="vertical-align: middle;"><input onmouseover='getTip(value)' onmouseout='UnTip()' type="text" class="inputBorder1" style="display: block;" name="txtCopyProduct" />&nbsp;</td>
							<td width="5%" align="left" style="vertical-align: top;" ><img src="gifs/middle/11.gif" style="vertical-align: top;" alt="Copy product for service" id="copyProductIcon" style="display: block;" onclick="if(copyProductCommercialCheck()){ return copyServiceProductForNewAndChangeOrder(path,sessionId,'Change');}" ></td>
							<!-- [039] End-->
							
								<td width="10%" align="left" ><div class="searchBg" id = "deleteProductDiv" style="display: block;"><a href="#" onclick="fnDeletePro();" title="Delete Product">Delete Product</a></div></td>
								<td width="10%" align="left" ><div class="searchBg" id="idDeleteServiceDiv"><a href="#" onclick="fnDeleteService();" title="Delete Service">Delete Service</a></div></td>
								<td width="10%" align="left" ><div class="searchBg" id="cancelServiceDiv"><a href="#" onclick="cancelService();" title="Cancel Service">Cancel Service</a></div></td>
							</logic:equal>
						<logic:equal name="formBean" property="isBillingTriggerReady" value="">
							 
							<td width="4%" align="left"><img src="gifs/middle/4.gif" onClick="SelectProductCatelog()" title="Product Catalog"></td>
							<!-- [017]  Start-->
							<!--<td width="4%" align="left" ><img id="CopyOrder" src="gifs/middle/Copy Order.gif" onClick="CopyOrder();" title="Copy Order" style="display: none;"></td>-->
							<!-- [017]  End-->
							 
							
							<!-- [013] Start -->
							<td width="4%" align="left"><img src="gifs/middle/9.gif" onclick="addChildNode();"  id="addChildNodeIcon"  style="display: block;" title="Add Child Node"></td>
						
				
							<!-- [013] Start -->
							<td width="4%" align="left" ><img src="gifs/middle/search.gif" onClick="serviceProductPopup()" id="idLSILookupImg" style="display: block;" title="Change Services Here"></td>						
							
							<!--Vijay start   This count item/node count button should be display in this place also  and change the height and width of linking.gif image -->
							<td width="4%" align="left"><img id="idCountLineItemsImg" src="gifs/middle/calc.gif" width="25px" height="25px" alt="Count Items" onclick="return countitems(path,sessionId,'Change')" title="Count Items"></td>
							<!--[085] Start-->
							<td width="4%" align="left"><img id="idLinking" src="gifs/middle/linking.GIF" width="20px" height="20px" alt="View LSI Linking for Arbor Products" onclick="viewLSILinking()" title="View LSI Linking"></td>
							<!--[085] Start-->
							<!-- vijay end -->
							
							<td align="left" width="9%">
							<div class="searchBg" id = "disconnectionDiv" style="display: none;"><a href="#" onClick="disconnectProducts()">Disconnect Product(s)</a></div>
							<div class="searchBg" id = "suspendDiv" style="display: none;"><a href="#" onClick="disconnectProducts()">Suspend Product(s)</a></div>
							<div class="searchBg" id = "resumeDiv" style="display: none;"><a href="#" onClick="disconnectProducts()">Resume Product(s)</a></div>
							</td>
							<!-- [081] Start -->
							<td width="5%">
							<%--add 0 in validateOrder() [093] --%>
								<div class="searchBg" style="margin-right:10px;" id="validateOrderDiv"><a href="#" onClick="return validateOrder(0)" title="validate order">Validate Order</a></div>
							</td>
							<!-- [081] End -->
							<!--<td width="5%" align="left" ><div class="searchBg"><a href="#" onclick="cancelService();">Cancel Service</a></div></td>-->
							
							<!-- [039] Start Copy Service product-->

							<td width="5%" align="left" style="vertical-align: middle;"><input onmouseover='getTip(value)' onmouseout='UnTip()' type="text" class="inputBorder1"  name="txtCopyProduct" />&nbsp;</td>
							<td width="5%" align="left" style="vertical-align: top;" ><img src="gifs/middle/11.gif" style="vertical-align: top;" alt="Copy product for service" id="copyProductIcon" onclick="if(copyProductCommercialCheck()){return copyServiceProductForNewAndChangeOrder(path,sessionId,'Change');}" title="Copy Product"></td>
							<!-- [039] End-->
							<td width="10%" align="left" ><div class="searchBg" id = "deleteProductDiv" style="display: block;"><a href="#" onclick="fnDeletePro();" title="Delete Product">Delete Product</a></div></td>
							<!--//009 start delete service tag added by manisha -->
							<td width="10%" align="left" ><div class="searchBg" id="idDeleteServiceDiv"><a href="#" onclick="fnDeleteService();" title="Delete Service">Delete Service</a></div></td>
							<!-- 009 end delete service tag added by manisha -->
							<td width="10%" align="left" ><div class="searchBg" id="cancelServiceDiv"><a href="#" onclick="cancelService();" title="Cancel Service">Cancel Service</a></div></td>
						</logic:equal>
					</tr>
				</table>
				<table width="100%"  border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td valign="top" width="65%">
							<jsp:include flush="true" page="ChangeServiceType.jsp"></jsp:include>
						</td>
						<td width="40%" valign="top">
							<fieldset class="border1" style="width:50%">
								<legend id="lblServiceDetail"  class="legendwrap"> <b>Service Details</b> </legend>
								<table width="200%"  border="1" cellspacing="0" cellpadding="0">
									<tr>
										<td>
											<jsp:include flush="true" page="ChangeTreeView.jsp"></jsp:include>
										</td>
									</tr>
								</table>
							</fieldset>
						</td>
					</tr>
				</table>
			</div>
			<!--  FOR tab 5 End -->
			<div style="margin:0px 2px 0px 2px;display: none" id="Page_6" class="content">
				<table width="100%"  border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td valign="top">
						    <jsp:include flush="true" page="../../workqueue/changeorderapproval.jsp"></jsp:include>
							<!--#include file="Approval.asp" -->
						</td>
					</tr>
				</table>
			</div>
		</html:form>
		<div id = 'selectAccountDialog' style="background-color:#F7F7E7;">
		</div>
</body>
<script type="text/javascript">
	
	/*fetchFeildList();
	drawTable();*/
	//DrawTable('SERVICENO','SERVICELINETABLE');	
	var currentTab = document.getElementById('latestTab').value;
	var newFormOpened = document.getElementById('nextForm').value;
	//alert(currentTab);
	if(null != currentTab && !("" == currentTab)){
		if("li1" == currentTab )
			changeTab(currentTab,1,'block','none','none', 'none','none');	
			//changeTab("li2",2,'none','block','none', 'none','none');
		else if("li2" == currentTab )
			changeTab(currentTab,2,'none','block','none', 'none','none');	
			//changeTab("li3",3,'none','none', 'block', 'none','none');	
		else if("li3" == currentTab )
			changeTab(currentTab,3,'none','none', 'block', 'none','none');	
			//changeTab("li5",5,'none','none', 'none','block','none');
		else if("li5" == currentTab ){
			//DrawTable('SERVICENO','SERVICELINETABLE');
			changeTab(currentTab,5,'none','none', 'none','block','none');
		}
	}else if(null != newFormOpened && !("" == newFormOpened)){
		setFormFields(newFormOpened);
	}else
		fetchFeildList();	
	
	$(function(){		
		$("#AttributeVal_1" ).datepicker({dateFormat: 'dd/mm/yy', showOn: 'none', changeMonth: true,changeYear: true });
		$("#AttributeVal_7" ).datepicker({dateFormat: 'dd/mm/yy',showOn: 'none', changeMonth: true,changeYear: true });
		//[078] start
		$("#AttributeVal_11" ).datepicker({dateFormat: 'dd/mm/yy',showOn: 'none', changeMonth: true,changeYear: true });
		$("#AttributeVal_12" ).datepicker({dateFormat: 'dd/mm/yy',showOn: 'none', changeMonth: true,changeYear: true });
		$("#AttributeVal_13" ).datepicker({dateFormat: 'dd/mm/yy',showOn: 'none', changeMonth: true,changeYear: true });
		$("#AttributeVal_14" ).datepicker({dateFormat: 'dd/mm/yy',showOn: 'none', changeMonth: true,changeYear: true });
		$("#AttributeVal_15" ).datepicker({dateFormat: 'dd/mm/yy',showOn: 'none', changeMonth: true,changeYear: true });
		//[078] END
		<%-- [094] Start PROJECT SATYAPAN --%>
		$("#ispLicDate").datepicker({dateFormat: 'dd/mm/yy',showOn: 'none' });
	});
	$('#AttributeValDate_1').click(function() {
	$('#AttributeVal_1').datepicker('show');
	});
	$('#AttributeValDate_7').click(function() {
      $('#AttributeVal_7').datepicker('show');
	});
	//[078] start
	$('#AttributeValDate_11').click(function() {
      $('#AttributeVal_11').datepicker('show');
	});
	$('#AttributeValDate_12').click(function() {
      $('#AttributeVal_12').datepicker('show');
	});
	$('#AttributeValDate_13').click(function() {
      $('#AttributeVal_13').datepicker('show');
	});
	$('#AttributeValDate_14').click(function() {
      $('#AttributeVal_14').datepicker('show');
	});
	$('#AttributeValDate_15').click(function() {
      $('#AttributeVal_15').datepicker('show');
	});
	//[078] end
	<%--[094] Start PROJECT SATYAPAN--%>
	$('#dateIspLic').click(function() {
		$('#ispLicDate').datepicker('show');
	});
	LoadToolTip()
</script>
</html>